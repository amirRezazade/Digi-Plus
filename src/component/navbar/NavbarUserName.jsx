import { useState } from "react";
import { Link, NavLink } from "react-router-dom";

export default function NavbarUserName() {
  let user = "amir";
  let [isOpen, setIsOpen] = useState(true);
  if (user) {
    return (
      <div className={`relative group lg:hover:shadow-[0_4px_8px_0_#DC2F0233] rounded-xl overflow-hidden lg:overflow-visible transition-all duration-300 ${isOpen ? "max-h-12 lg:max-h-max" : "max-h-100 lg:max-h-max"}`}>
        <button onClick={() => setIsOpen(!isOpen)} className="min-w-full lg:min-w-30 xl:min-w-38 h-12 xl:max-w-50 cursor-pointer lg:bg-light border border-light-gray lg:border-yel2  rounded-xl flex justify-center items-center gap-2 fill-org text-org hover:fill-white hover:text-white hover:bg-red hover:border-transparent transition-colors  duration-300">
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="22" viewBox="0 0 20 22" className="">
              <path d="M12.1429 13.0625H7.85714C3.51786 13.0625 0 16.4484 0 20.625C0 21.3843 0.639732 22 1.42857 22H18.5714C19.3603 22 20 21.3843 20 20.625C20 16.4484 16.4821 13.0625 12.1429 13.0625ZM2.18705 19.9375C2.53973 17.2262 4.94643 15.125 7.85714 15.125H12.1429C15.0518 15.125 17.4598 17.2283 17.8125 19.9375H2.18705ZM10 11C13.1558 11 15.7143 8.53746 15.7143 5.5C15.7143 2.46254 13.1558 0 10 0C6.8442 0 4.28571 2.46254 4.28571 5.5C4.28571 8.53789 6.84375 11 10 11ZM10 2.0625C11.9692 2.0625 13.5714 3.60465 13.5714 5.5C13.5714 7.39535 11.9692 8.9375 10 8.9375C8.0308 8.9375 6.42857 7.39492 6.42857 5.5C6.42857 3.60465 8.03125 2.0625 10 2.0625Z"></path>
            </svg>
          </span>
          <span className=" text-sm font-semibold truncate">{user}</span>
        </button>
        <div className="lg:absolute top-[180%] lg:opacity-0 lg:invisible my-2 lg:my-0 lg:group-hover:top-[135%] lg:group-hover:visible lg:group-hover:opacity-100 transition-[opacity_top_visibility] duration-300 left-0 bg-white w-full lg:w-55 px-5 py-3 rounded-2xl border border-light-gray lg:border-0 lg:shadow-md ">
          <ul className="flex flex-col  text-sm text-gray divide-y divide-light-gray">
            <li className="py-3">
              <Link to={"/my-account/profile"} className="flex items-center gap-3 text-hover">
                <span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="18" viewBox="0 0 20 22" className="">
                    <path d="M12.1429 13.0625H7.85714C3.51786 13.0625 0 16.4484 0 20.625C0 21.3843 0.639732 22 1.42857 22H18.5714C19.3603 22 20 21.3843 20 20.625C20 16.4484 16.4821 13.0625 12.1429 13.0625ZM2.18705 19.9375C2.53973 17.2262 4.94643 15.125 7.85714 15.125H12.1429C15.0518 15.125 17.4598 17.2283 17.8125 19.9375H2.18705ZM10 11C13.1558 11 15.7143 8.53746 15.7143 5.5C15.7143 2.46254 13.1558 0 10 0C6.8442 0 4.28571 2.46254 4.28571 5.5C4.28571 8.53789 6.84375 11 10 11ZM10 2.0625C11.9692 2.0625 13.5714 3.60465 13.5714 5.5C13.5714 7.39535 11.9692 8.9375 10 8.9375C8.0308 8.9375 6.42857 7.39492 6.42857 5.5C6.42857 3.60465 8.03125 2.0625 10 2.0625Z"></path>
                  </svg>
                </span>
                <span>{user}</span>
              </Link>
            </li>
            <li className="py-3">
              <Link to={"/my-account/orders"} className="flex items-center gap-3 text-hover">
                <span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                    <path d="M4.32507 5.31686C4.16673 5.31686 4.00007 5.2502 3.8834 5.13353C3.64173 4.89186 3.64173 4.49186 3.8834 4.2502L6.9084 1.2252C7.15007 0.983529 7.55007 0.983529 7.79173 1.2252C8.0334 1.46686 8.0334 1.86686 7.79173 2.10853L4.76673 5.13353C4.64173 5.2502 4.4834 5.31686 4.32507 5.31686Z"></path>
                    <path d="M15.6748 5.31686C15.5164 5.31686 15.3581 5.25853 15.2331 5.13353L12.2081 2.10853C11.9664 1.86686 11.9664 1.46686 12.2081 1.2252C12.4498 0.983529 12.8498 0.983529 13.0914 1.2252L16.1164 4.2502C16.3581 4.49186 16.3581 4.89186 16.1164 5.13353C15.9998 5.2502 15.8331 5.31686 15.6748 5.31686Z"></path>
                    <path d="M16.8415 8.83333C16.7832 8.83333 16.7248 8.83333 16.6665 8.83333H16.4748H3.33317C2.74984 8.84167 2.08317 8.84167 1.59984 8.35833C1.2165 7.98333 1.0415 7.4 1.0415 6.54167C1.0415 4.25 2.7165 4.25 3.5165 4.25H16.4832C17.2832 4.25 18.9582 4.25 18.9582 6.54167C18.9582 7.40833 18.7832 7.98333 18.3998 8.35833C17.9665 8.79167 17.3832 8.83333 16.8415 8.83333ZM3.5165 7.58333H16.6748C17.0498 7.59167 17.3998 7.59167 17.5165 7.475C17.5748 7.41667 17.6998 7.21667 17.6998 6.54167C17.6998 5.6 17.4665 5.5 16.4748 5.5H3.5165C2.52484 5.5 2.2915 5.6 2.2915 6.54167C2.2915 7.21667 2.42484 7.41667 2.47484 7.475C2.5915 7.58333 2.94984 7.58333 3.3165 7.58333H3.5165Z"></path>
                    <path d="M8.1333 15.2498C7.79163 15.2498 7.5083 14.9665 7.5083 14.6248V11.6665C7.5083 11.3248 7.79163 11.0415 8.1333 11.0415C8.47497 11.0415 8.7583 11.3248 8.7583 11.6665V14.6248C8.7583 14.9748 8.47497 15.2498 8.1333 15.2498Z"></path>
                    <path d="M11.9668 15.2498C11.6251 15.2498 11.3418 14.9665 11.3418 14.6248V11.6665C11.3418 11.3248 11.6251 11.0415 11.9668 11.0415C12.3085 11.0415 12.5918 11.3248 12.5918 11.6665V14.6248C12.5918 14.9748 12.3085 15.2498 11.9668 15.2498Z"></path>
                    <path d="M12.4083 18.9581H7.38329C4.39996 18.9581 3.73329 17.1831 3.47496 15.6415L2.29996 8.43313C2.24162 8.09146 2.47496 7.7748 2.81662 7.71646C3.15829 7.65813 3.47496 7.89146 3.53329 8.23313L4.70829 15.4331C4.94996 16.9081 5.44996 17.7081 7.38329 17.7081H12.4083C14.55 17.7081 14.7916 16.9581 15.0666 15.5081L16.4666 8.21646C16.5333 7.87479 16.8583 7.6498 17.2 7.7248C17.5416 7.79146 17.7583 8.11646 17.6916 8.45813L16.2916 15.7498C15.9666 17.4415 15.425 18.9581 12.4083 18.9581Z"></path>
                  </svg>
                </span>
                <span>سفارش ها</span>
              </Link>
            </li>
            <li className="py-3">
              <Link to={"/my-account/wishlist"} className="flex items-center gap-3 text-hover">
                <span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                    <path d="M9.99984 18.0418C9.7415 18.0418 9.4915 18.0085 9.28317 17.9335C6.09984 16.8418 1.0415 12.9668 1.0415 7.24183C1.0415 4.32516 3.39984 1.9585 6.29984 1.9585C7.70817 1.9585 9.02484 2.5085 9.99984 3.49183C10.9748 2.5085 12.2915 1.9585 13.6998 1.9585C16.5998 1.9585 18.9582 4.3335 18.9582 7.24183C18.9582 12.9752 13.8998 16.8418 10.7165 17.9335C10.5082 18.0085 10.2582 18.0418 9.99984 18.0418ZM6.29984 3.2085C4.0915 3.2085 2.2915 5.01683 2.2915 7.24183C2.2915 12.9335 7.7665 16.1002 9.6915 16.7585C9.8415 16.8085 10.1665 16.8085 10.3165 16.7585C12.2332 16.1002 17.7165 12.9418 17.7165 7.24183C17.7165 5.01683 15.9165 3.2085 13.7082 3.2085C12.4415 3.2085 11.2665 3.80016 10.5082 4.82516C10.2748 5.14183 9.7415 5.14183 9.50817 4.82516C8.73317 3.79183 7.5665 3.2085 6.29984 3.2085Z"></path>
                  </svg>
                </span>
                <span>علاقه مندی ها</span>
              </Link>
            </li>
            <li className="py-3">
              <Link to={"/my-account/comments"} className="flex items-center gap-3 text-hover">
                <span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                    <path d="M12.9168 9.375H7.0835C6.74183 9.375 6.4585 9.09167 6.4585 8.75C6.4585 8.40833 6.74183 8.125 7.0835 8.125H12.9168C13.2585 8.125 13.5418 8.40833 13.5418 8.75C13.5418 9.09167 13.2585 9.375 12.9168 9.375Z"></path>
                    <path d="M13.3332 18.5999C13.0498 18.5999 12.7665 18.5166 12.5248 18.3582L8.97483 15.9915H5.83317C2.9665 15.9915 1.0415 14.0665 1.0415 11.1999V6.19987C1.0415 3.3332 2.9665 1.4082 5.83317 1.4082H14.1665C17.0332 1.4082 18.9582 3.3332 18.9582 6.19987V11.1999C18.9582 13.8499 17.3082 15.6999 14.7915 15.9582V17.1415C14.7915 17.6832 14.4998 18.1749 14.0248 18.4249C13.8082 18.5415 13.5665 18.5999 13.3332 18.5999ZM5.83317 2.64986C3.68317 2.64986 2.2915 4.04153 2.2915 6.19153V11.1915C2.2915 13.3415 3.68317 14.7332 5.83317 14.7332H9.1665C9.2915 14.7332 9.40818 14.7665 9.51652 14.8415L13.2248 17.3082C13.3165 17.3665 13.3998 17.3416 13.4415 17.3166C13.4832 17.2916 13.5498 17.2415 13.5498 17.1332V15.3582C13.5498 15.0165 13.8332 14.7332 14.1748 14.7332C16.3248 14.7332 17.7165 13.3415 17.7165 11.1915V6.19153C17.7165 4.04153 16.3248 2.64986 14.1748 2.64986H5.83317Z"></path>
                  </svg>
                </span>
                <span> دیدگاه ها</span>
              </Link>
            </li>
            <li className="py-3">
              <Link to={"/login"} className="flex items-center gap-3 hover:text-red-600 hover:fill-red-600 transition-colors duration-300">
                <span>
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                    <path d="M14.5336 12.8085C14.3752 12.8085 14.2169 12.7502 14.0919 12.6252C13.8502 12.3835 13.8502 11.9835 14.0919 11.7419L15.7836 10.0502L14.0919 8.35853C13.8502 8.11686 13.8502 7.71686 14.0919 7.4752C14.3336 7.23353 14.7336 7.23353 14.9752 7.4752L17.1086 9.60853C17.3502 9.85019 17.3502 10.2502 17.1086 10.4919L14.9752 12.6252C14.8502 12.7502 14.6919 12.8085 14.5336 12.8085Z"></path>
                    <path d="M16.6083 10.6748H8.1333C7.79163 10.6748 7.5083 10.3915 7.5083 10.0498C7.5083 9.70814 7.79163 9.4248 8.1333 9.4248H16.6083C16.95 9.4248 17.2333 9.70814 17.2333 10.0498C17.2333 10.3915 16.95 10.6748 16.6083 10.6748Z"></path>
                    <path d="M9.79997 17.2918C5.5083 17.2918 2.5083 14.2918 2.5083 10.0002C2.5083 5.7085 5.5083 2.7085 9.79997 2.7085C10.1416 2.7085 10.425 2.99183 10.425 3.3335C10.425 3.67516 10.1416 3.9585 9.79997 3.9585C6.24163 3.9585 3.7583 6.44183 3.7583 10.0002C3.7583 13.5585 6.24163 16.0418 9.79997 16.0418C10.1416 16.0418 10.425 16.3252 10.425 16.6668C10.425 17.0085 10.1416 17.2918 9.79997 17.2918Z"></path>
                  </svg>
                </span>
                <span> خروج</span>
              </Link>
            </li>
          </ul>
        </div>
      </div>
    );
  } else {
    return (
      <div className=" lg:hover:shadow-[0_4px_8px_0_#DC2F0233] rounded-xl transition-colors duration-300 ">
        <NavLink to={"/my-account"} className="min-w-full lg:min-w-30 xl:min-w-38 h-12 xl:max-w-50 cursor-pointer lg:bg-light border border-light-gray lg:border-yel2  rounded-xl flex justify-center items-center gap-2 fill-org text-org hover:fill-white hover:text-white hover:bg-red hover:border-transparent transition-colors  duration-300">
          <span>
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="22" viewBox="0 0 20 22" className="">
              <path d="M12.1429 13.0625H7.85714C3.51786 13.0625 0 16.4484 0 20.625C0 21.3843 0.639732 22 1.42857 22H18.5714C19.3603 22 20 21.3843 20 20.625C20 16.4484 16.4821 13.0625 12.1429 13.0625ZM2.18705 19.9375C2.53973 17.2262 4.94643 15.125 7.85714 15.125H12.1429C15.0518 15.125 17.4598 17.2283 17.8125 19.9375H2.18705ZM10 11C13.1558 11 15.7143 8.53746 15.7143 5.5C15.7143 2.46254 13.1558 0 10 0C6.8442 0 4.28571 2.46254 4.28571 5.5C4.28571 8.53789 6.84375 11 10 11ZM10 2.0625C11.9692 2.0625 13.5714 3.60465 13.5714 5.5C13.5714 7.39535 11.9692 8.9375 10 8.9375C8.0308 8.9375 6.42857 7.39492 6.42857 5.5C6.42857 3.60465 8.03125 2.0625 10 2.0625Z"></path>
            </svg>
          </span>
          <span className=" text-sm font-semibold truncate">ورود / ثبت نام</span>
        </NavLink>
      </div>
    );
  }
}
